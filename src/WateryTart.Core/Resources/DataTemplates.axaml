<ResourceDictionary
          xmlns="https://github.com/avaloniaui"
          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
          xmlns:app="clr-namespace:WateryTart.Core"
          xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia"
          xmlns:converters="using:WateryTart.Core.Converters"
          xmlns:iconPacks="https://github.com/MahApps/IconPacks.Avalonia"
          xmlns:menus="using:WateryTart.Core.Views.Menus"
          xmlns:viewModels="clr-namespace:WateryTart.Core.ViewModels"
          xmlns:views="using:WateryTart.Core"
          xmlns:vm1="using:WateryTart.Core.ViewModels.Menus">

    <app:WateryTartSmallViewSelector x:Key="smallViewSelector">
        <StaticResource x:Key="AlbumViewModel" ResourceKey="albumSmallReusableTemplate" />
        <StaticResource x:Key="PlaylistViewModel" ResourceKey="playlistSmallReusableTemplate" />
        <StaticResource x:Key="ArtistViewModel" ResourceKey="artistSmallReusableTemplate" />
        <StaticResource x:Key="TrackViewModel" ResourceKey="trackSmallReusableTemplate" />
        <!--
            MediaType.Genre => null,
            MediaType.Radio => null,
            MediaType.Audiobook => null,
            MediaType.Folder => null,
            MediaType.Podcast => null,
            MediaType.PodcastEpisode => null,
        -->
    </app:WateryTartSmallViewSelector>

    <!--  These templates are used in any "small results" such as search, home, playlist etc  -->
    <DataTemplate x:Key="albumSmallReusableTemplate" x:DataType="viewModels:AlbumViewModel">
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Border
                      Grid.Column="0"
                      Margin="-10,0,0,0"
                      ClipToBounds="True"
                      CornerRadius="5">
                <asyncImageLoader:AdvancedImage
                          Width="50"
                          Height="50"
                          FallbackImage="{x:Static app:App.FallbackImage}"
                          Loader="{x:Static app:App.ImageLoaderInstance}"
                          Source="{Binding Path=Album, Converter={StaticResource MetadataImageConverter}}">
                    <Interaction.Behaviors>
                        <EventTriggerBehavior EventName="Tapped">
                            <InvokeCommandAction Command="{Binding AlbumFullViewCommand}" />
                        </EventTriggerBehavior>
                    </Interaction.Behaviors>
                </asyncImageLoader:AdvancedImage>
            </Border>
            <StackPanel
                      Grid.Column="1"
                      Margin="10,0,0,0"
                      Background="Transparent">
                <Interaction.Behaviors>
                    <EventTriggerBehavior EventName="Tapped">
                        <InvokeCommandAction Command="{Binding AlbumFullViewCommand}" />
                    </EventTriggerBehavior>
                </Interaction.Behaviors>
                <TextBlock Text="{Binding Album.Name}" TextTrimming="CharacterEllipsis" />
                <TextBlock Foreground="{StaticResource FadedTextColourBrush}" Text="{Binding Album.Year}" />
            </StackPanel>

            <Button
                      Grid.Column="2"
                      Classes="iconButton navButton"
                      Command="{Binding AlbumAltMenuCommand}">
                <iconPacks:PackIconMaterial
                          Width="{StaticResource AltMenuSize}"
                          Height="{StaticResource AltMenuSize}"
                          Kind="DotsVertical" />
            </Button>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="trackSmallReusableTemplate" x:DataType="viewModels:TrackViewModel">
        <Grid Margin="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Border
                      Grid.Column="0"
                      Margin="-10,0,0,0"
                      ClipToBounds="True"
                      CornerRadius="5">
                <asyncImageLoader:AdvancedImage
                          Width="50"
                          Height="50"
                          FallbackImage="{x:Static app:App.FallbackImage}"
                          Loader="{x:Static app:App.ImageLoaderInstance}"
                          Source="{Binding Path=Track, Converter={StaticResource MetadataImageConverter}}">
                    <Interaction.Behaviors>
                        <EventTriggerBehavior EventName="Tapped">
                            <InvokeCommandAction Command="{Binding TrackFullViewCommand}" />
                        </EventTriggerBehavior>
                    </Interaction.Behaviors>
                </asyncImageLoader:AdvancedImage>
            </Border>
            <Grid
                      Grid.Column="1"
                      Margin="0,0,0,0"
                      ColumnDefinitions="Auto,*">
                <iconPacks:PackIconMaterial
                          Grid.Column="0"
                          Width="20"
                          Height="20"
                          Margin="5,0,0,0"
                          VerticalAlignment="Top"
                          IsVisible="{Binding IsNowPlaying}"
                          Kind="VolumeHigh" />

                <TextBlock
                          Grid.Column="1"
                          Margin="10,0,0,0"
                          Text="{Binding Track.Name}"
                          TextTrimming="CharacterEllipsis" />

                <TextBlock
                          Grid.Column="1"
                          Margin="10,20,0,0"
                          FontSize="14"
                          Foreground="{StaticResource FadedTextColourBrush}"
                          Text="{Binding Track.Artists[0].Name}"
                          TextTrimming="CharacterEllipsis" />
            </Grid>


            <Button
                      Grid.Column="2"
                      VerticalAlignment="Top"
                      Classes="iconButton navButton"
                      Command="{Binding TrackAltMenuCommand}">
                <iconPacks:PackIconMaterial
                          Width="{StaticResource AltMenuSize}"
                          Height="{StaticResource AltMenuSize}"
                          Kind="DotsVertical" />
            </Button>
        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="playlistSmallReusableTemplate" x:DataType="viewModels:PlaylistViewModel">
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Border
                      Grid.Column="0"
                      Margin="-10,0,0,0"
                      ClipToBounds="True"
                      CornerRadius="5">
                <asyncImageLoader:AdvancedImage
                          Width="50"
                          Height="50"
                          FallbackImage="{x:Static app:App.FallbackImage}"
                          Loader="{x:Static app:App.ImageLoaderInstance}"
                          Source="{Binding Path=Playlist, Converter={StaticResource MetadataImageConverter}}">
                    <Interaction.Behaviors>
                        <EventTriggerBehavior EventName="Tapped">
                            <InvokeCommandAction Command="{Binding PlaylistFullViewCommand}" />
                        </EventTriggerBehavior>
                    </Interaction.Behaviors>
                </asyncImageLoader:AdvancedImage>
            </Border>
            <StackPanel
                      Grid.Column="1"
                      Margin="10,0,0,0"
                      Background="Transparent">
                <Interaction.Behaviors>
                    <EventTriggerBehavior EventName="Tapped">
                        <InvokeCommandAction Command="{Binding PlaylistFullViewCommand}" />
                    </EventTriggerBehavior>
                </Interaction.Behaviors>
                <TextBlock Text="{Binding Playlist.Name}" TextTrimming="CharacterEllipsis" />
                <TextBlock Foreground="{StaticResource FadedTextColourBrush}" Text="Playlist" />
            </StackPanel>

            <Button
                      Grid.Column="2"
                      Classes="iconButton navButton"
                      Command="{Binding PlaylistAltMenuCommand}">
                <iconPacks:PackIconMaterial
                          Width="{StaticResource AltMenuSize}"
                          Height="{StaticResource AltMenuSize}"
                          Kind="DotsVertical" />
            </Button>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="artistSmallReusableTemplate" x:DataType="viewModels:ArtistViewModel">
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Ellipse
                      Grid.Column="0"
                      Width="50"
                      Height="50">
                <Ellipse.Fill>
                    <ImageBrush asyncImageLoader:ImageBrushLoader.Source="{Binding Path=Artist, Converter={StaticResource MetadataImageConverter}}" />

                </Ellipse.Fill>
                <Interaction.Behaviors>
                    <EventTriggerBehavior EventName="Tapped">
                        <InvokeCommandAction Command="{Binding ArtistFullViewCommand}" />
                    </EventTriggerBehavior>
                </Interaction.Behaviors>
            </Ellipse>
            <StackPanel
                      Grid.Column="1"
                      Margin="10,0,0,0"
                      Background="Transparent">
                <Interaction.Behaviors>
                    <EventTriggerBehavior EventName="Tapped">
                        <InvokeCommandAction Command="{Binding ArtistFullViewCommand}" />
                    </EventTriggerBehavior>
                </Interaction.Behaviors>
                <TextBlock Text="{Binding Artist.Name}" TextTrimming="CharacterEllipsis" />

            </StackPanel>

            <Button
                      Grid.Column="2"
                      Classes="iconButton navButton"
                      Command="{Binding AltMenuCommand}">
                <iconPacks:PackIconMaterial
                          Width="{StaticResource AltMenuSize}"
                          Height="{StaticResource AltMenuSize}"
                          Kind="DotsVertical" />
            </Button>
        </Grid>
    </DataTemplate>



    <!--            <DataTemplate x:Key="trackSmallReusableTemplate" x:DataType="viewModels:AlbumViewModel">
			</DataTemplate>-->

    <!--
        MediaType.Genre => null,
        MediaType.Radio => null,
        MediaType.Track => null,
        MediaType.Audiobook => null,
        MediaType.Folder => null,
        MediaType.Podcast => null,
        MediaType.PodcastEpisode => null,
    -->

</ResourceDictionary>
