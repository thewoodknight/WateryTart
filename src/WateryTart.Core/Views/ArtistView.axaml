<UserControl
          x:Class="WateryTart.Core.Views.ArtistView"
          xmlns="https://github.com/avaloniaui"
          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
          xmlns:app="clr-namespace:WateryTart.Core"
          xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia"
          xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
          xmlns:converters="clr-namespace:WateryTart.Core.Converters"
          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
          xmlns:iconPacks="https://github.com/MahApps/IconPacks.Avalonia"
          xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
          xmlns:vm="clr-namespace:WateryTart.Core.ViewModels"
          d:DesignHeight="450"
          d:DesignWidth="800"
          x:DataType="vm:ArtistViewModel"
          mc:Ignorable="d">

    <StackPanel Spacing="10">
        <Border Width="250" Margin="0,10,0,0" BoxShadow="0 0 20 0 Black" CornerRadius="125">
            <Ellipse Width="250" Height="250">
                <Ellipse.Fill>
                    <ImageBrush asyncImageLoader:ImageBrushLoader.Source="{Binding Path=ArtistThumb, Converter={StaticResource MassImageImageConverter}}" />
                </Ellipse.Fill>
            </Ellipse>

        </Border>
        <TextBlock
                  HorizontalAlignment="Center"
                  FontSize="28"
                  FontWeight="Bold"
                  Text="{Binding Artist.Name}" />

        <ItemsControl HorizontalAlignment="Center" ItemsSource="{Binding Artist.Metadata.Genres}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>

        <StackPanel
                  HorizontalAlignment="Center"
                  Orientation="Horizontal"
                  Spacing="20">

            <Button
                      Classes="iconButton navButton"
                      Command="{Binding PlayArtistCommand}"
                      ToolTip.Tip="Play Artist">
                <iconPacks:PackIconMaterial
                          Width="25"
                          Height="25"
                          HorizontalAlignment="Right"
                          Kind="Play" />
            </Button>

            <Button
                      Classes="iconButton navButton"
                      Command="{Binding PlayArtistRadioCommand}"
                      ToolTip.Tip="Play Artist Radio">
                <iconPacks:PackIconMaterial
                          Width="25"
                          Height="25"
                          HorizontalAlignment="Right"
                          Kind="RadioTower" />
            </Button>

            <Button
                      Classes="iconButton navButton"
                      Command="{Binding ToggleFavoriteCommand}"
                      ToolTip.Tip="(Un)mark Favourite Artist">

                <iconPacks:PackIconMaterial
                          Width="20"
                          Height="20"
                          Kind="{Binding Artist.Favorite, Converter={StaticResource BoolToIconKindConverter}, ConverterParameter='HeartOutline,Heart'}" />
            </Button>

            <Svg
                      Width="25"
                      Height="25"
                      Source="{Binding InputProviderIcon}" />
        </StackPanel>

        <TabControl>
            <TabControl.Styles>
                <Style Selector="TabControl">
                    <Setter Property="ItemsPanel">
                        <ItemsPanelTemplate>
                            <UniformGrid Columns="{Binding $parent[TabControl].Items.Count}" />
                        </ItemsPanelTemplate>
                    </Setter>
                </Style>
                <Style Selector="TabItem">
                    <Setter Property="HeaderTemplate">
                        <DataTemplate>
                            <TextBlock
                                      FontSize="16"
                                      FontWeight="Bold"
                                      Text="{Binding Converter={StaticResource ToUpperValueConverter}}"
                                      TextAlignment="Center" />
                        </DataTemplate>
                    </Setter>
                </Style>

                <Style Selector="TabItem">
                    <Setter Property="Padding" Value="0" />
                </Style>

                <Style Selector="TabItem:selected /template/ Border#PART_SelectedPipe">
                    <Setter Property="Background" Value="White" />
                </Style>

                <Style Selector="TabItem:not(:selected) /template/ Border#PART_SelectedPipe">
                    <Setter Property="Background" Value="#70FFFFFF" />
                    <Setter Property="IsVisible" Value="True" />
                </Style>
            </TabControl.Styles>
            <TabItem Header="Albums">
                <ListBox
                          Padding="0"
                          Background="Transparent"
                          ItemTemplate="{StaticResource albumSmallReusableTemplate}"
                          ItemsSource="{Binding Albums}" />
            </TabItem>
            <TabItem Header="Bio">
                <TextBlock Text="{Binding Artist.Metadata.Description}" TextWrapping="Wrap" />
            </TabItem>
        </TabControl>
    </StackPanel>
</UserControl>
