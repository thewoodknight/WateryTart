<UserControl
          x:Class="WateryTart.Core.Views.GeneralSettingsView"
          xmlns="https://github.com/avaloniaui"
          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
          xmlns:converters="using:WateryTart.Core.Converters"
          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
          xmlns:vm="clr-namespace:WateryTart.Core.ViewModels"
          d:DesignWidth="600"
          x:DataType="vm:GeneralSettingsViewModel">

    <UserControl.Resources>
        <converters:EnumDescriptionConverter x:Key="EnumDescriptionConverter" />
        <SolidColorBrush x:Key="SecondaryForeground" Color="#FF6E6E6E" />


    </UserControl.Resources>
    <UserControl.Styles />

    <StackPanel Margin="20" Spacing="20">

        <!--  General  -->

        <TextBlock
                  FontSize="16"
                  FontWeight="Bold"
                  Text="GENERAL" />
        <Border Classes="GroupingBorderStyle">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="Minimise to tray" />
                <ToggleSwitch
                          Grid.Column="1"
                          HorizontalAlignment="Right"
                          Command="{Binding TrayIconCommand}"
                          IsChecked="{Binding TrayIcon}"
                          Theme="{StaticResource SwitchToggle}" />
                <!--<ToggleSwitch Content="Start on login" />-->
            </Grid>
        </Border>

        <!--  Updates  -->
        <TextBlock
                  FontSize="16"
                  FontWeight="Bold"
                  Text="UPDATES" />
        <Border Classes="GroupingBorderStyle">

            <Grid RowSpacing="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!--  Current Version  -->
                <TextBlock
                          Grid.Row="0"
                          Grid.Column="0"
                          FontWeight="Bold"
                          Text="Application version" />
                <TextBlock
                          Grid.Row="0"
                          Grid.Column="1"
                          HorizontalAlignment="Right"
                          Text="{Binding InstalledVersion}" />

                <!--  Latest Version  -->
                <TextBlock
                          Grid.Row="1"
                          Grid.Column="0"
                          Margin="0,8,0,0"
                          FontWeight="Bold"
                          Text="Latest version" />
                <TextBlock
                          Grid.Row="1"
                          Grid.Column="1"
                          HorizontalAlignment="Right"
                          Text="{Binding LatestVersion}" />

                <!--  Enable Auto-Updates  -->
                <TextBlock
                          Grid.Row="2"
                          Grid.Column="0"
                          Text="Update automatically" />
                <ToggleSwitch
                          Grid.Row="2"
                          Grid.Column="1"
                          HorizontalAlignment="Right" />

                <!--  Check For Updates  -->
                <Button Grid.Row="3">Check For Updates</Button>
            </Grid>
        </Border>

        <!--  Volume  -->
        <TextBlock
                  FontSize="16"
                  FontWeight="Bold"
                  Text="VOLUME" />
        <Border Classes="GroupingBorderStyle">
            <StackPanel Spacing="8">
                <TextBlock FontWeight="Bold" Text="Volume events control" />
                <ComboBox
                          HorizontalAlignment="Stretch"
                          ItemsSource="{Binding VolumeEventOptions}"
                          SelectedValue="{Binding SelectedVolumeEvent, Mode=TwoWay}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Converter={StaticResource EnumDescriptionConverter}}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <TextBlock Foreground="{StaticResource SecondaryForeground}" TextWrapping="Wrap">
                    This only applies to how this install handles volume. The default behaviour is 'App Volume' - how most media players work.
                </TextBlock>
            </StackPanel>
        </Border>

    </StackPanel>
</UserControl>
